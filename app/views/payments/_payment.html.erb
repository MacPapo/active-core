<% payment_attribute_to_string = ->(attr) { attribute_to_string(payment, attr) } %>
<div class="row mb-2">

    <!-- Amount -->
    <div class="col">
        <p class="fs-6 fw-light text-muted mb-2">
            <%= payment_attribute_to_string.('amount') %>
        </p>
        <div class="fs-5 fw-semibold text-secondary">
            <%= number_to_currency payment.amount %>
        </div>
    </div>

    <!-- Date -->
    <div class="col">
        <p class="fs-6 fw-light text-muted mb-2">
            <%= payment_attribute_to_string.('date') %>
        </p>
        <div class="fs-5 fw-semibold text-secondary">
            <%= l payment.date %>
        </div>
    </div>

    <!-- Payable Type -->
    <div class="col">
        <p class="fs-6 fw-light text-muted mb-2">
            <%= payment_attribute_to_string.('payable_type') %>
        </p>
        <div class="fs-5 fw-semibold text-secondary">
            <%= payment.humanize_payable_type %>
        </div>
    </div>
</div>

<div class="row mb-4">
    <div class="col">
        <p class="fs-6 fw-light text-muted mb-2">
            <%= payment_attribute_to_string.('payment_method') %>
        </p>
        <div class="fs-5 fw-semibold text-secondary">
            <%= payment.humanize_payment_method %>
        </div>
    </div>

</div>

<div class="row mb-4">
    <div class="col">
        <p class="fs-6 fw-light text-muted mb-2">
            <%= payment_attribute_to_string.('note') %>
        </p>
        <div class="fs-5 fw-semibold text-secondary">
            <%= payment.note %>
        </div>
    </div>
</div>

<% if current_staff.admin? %>

    <div class="container py-1">
        <hr>
    </div>

    <% staff = payment.staff %>
    <div class="row mb-2">
        <div class="col">
            <p class="fs-6 fw-light text-muted mb-2">
                <%= payment_attribute_to_string.('staff') %>
            </p>
            <div class="fs-5 fw-semibold text-secondary">
                <% staff = payment.staff %>
                <%= link_to "#{staff.nickname}", staff, class: 'fs-5 fw-semibold link-secondary link-underline-dark link-offset-2' %>
            </div>
        </div>

        <div class="col">
            <p class="fs-6 fw-light text-muted mb-2">
                <%= payment_attribute_to_string.('updated_at') %>
            </p>
            <div class="fs-5 fw-semibold text-secondary">
                <%= l payment.updated_at, format: :long %>
            </div>
        </div>

        <div class="col">
            <p class="fs-6 fw-light text-muted mb-2">
                <%= payment_attribute_to_string.('created_at') %>
            </p>
            <div class="fs-5 fw-semibold text-secondary">
                <%= l payment.created_at, format: :long %>
            </div>
        </div>
    </div>
<% end %>
