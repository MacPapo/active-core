<!DOCTYPE html>
<html lang="<%= I18n.locale %>">
    <head>
        <title><%= @page_title || 'Querini Fit' %></title>
        <%= favicon_link_tag asset_path('asd-querini.png') %>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <%= csrf_meta_tags %>
        <%= csp_meta_tag %>

        <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
        <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>
    </head>

    <body class="bg-light">

        <!-- Sidebar -->
        <%= render "partials/sidebar" if staff_signed_in? %>

        <!-- Content -->
        <div class="flex-grow-1" style="<%= staff_signed_in? ? 'padding: 1rem;margin-left: 220px;' : 'height: 100vh;' %>">

            <!-- Flash Messages -->
            <% flash.each do |type, msg| %>
                <% next if type.to_s == "timedout" %>

                <div class="alert alert-<%= type == 'alert' ? 'warning' : 'success' %> alert-dismissible fade show" role="alert">
                    <%= msg %>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            <% end %>

            <!-- Contents -->
            <%= yield %>
        </div>
    </body>
</html>
